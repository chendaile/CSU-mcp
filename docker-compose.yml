services:
  campusapp:
    image: ghcr.io/your-org/campusapp:latest
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "${CSU_API_PORT:-12000}:12000"
      - "${CSU_MCP_PORT:-13000}:13000"
    environment:
      CSUGO_HTTP_PORT: "${CSUGO_HTTP_PORT:-12000}"
      CSUGO_BASE_URL: "${CSUGO_BASE_URL:-http://127.0.0.1:12000}"
      CSUGO_TOKEN: "${CSUGO_TOKEN:-csugo-token}"
      MCP_HTTP_ADDR: "${MCP_HTTP_ADDR:-:13000}"
      MCP_IMPLEMENTATION_NAME: "${MCP_IMPLEMENTATION_NAME:-csu-mcp-proxy}"
      MCP_IMPLEMENTATION_VERSION: "${MCP_IMPLEMENTATION_VERSION:-0.1.0}"
    volumes:
      - ./configs/api/conf:/app/configs/api/conf:ro
      - ./var/logs:/app/var/logs
    restart: unless-stopped
